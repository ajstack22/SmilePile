<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Photo.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">app</a> &gt; <a href="index.source.html" class="el_package">com.smilepile.app</a> &gt; <span class="el_source">Photo.kt</span></div><h1>Photo.kt</h1><pre class="source lang-java linenums">package com.smilepile.app

/**
 * Data class representing a photo with category information
 */
<span class="fc" id="L6">data class Photo(</span>
<span class="fc" id="L7">    val id: String,</span>
<span class="fc" id="L8">    val path: String,</span>
<span class="fc" id="L9">    val category: String,</span>
<span class="fc" id="L10">    val displayName: String = path.substringAfterLast('/').substringBeforeLast('.')</span>
) {
    companion object {
        /**
         * Creates a list of Photo objects from image paths, inferring categories from file names
         */
        fun fromImagePaths(imagePaths: List&lt;String&gt;): List&lt;Photo&gt; {
<span class="fc" id="L17">            return imagePaths.mapIndexed { index, path -&gt;</span>
<span class="fc" id="L18">                val fileName = path.substringAfterLast('/')</span>
<span class="fc" id="L19">                val category = inferCategoryFromFileName(fileName)</span>
<span class="fc" id="L20">                Photo(</span>
<span class="fc" id="L21">                    id = &quot;photo_$index&quot;,</span>
<span class="fc" id="L22">                    path = path,</span>
<span class="fc" id="L23">                    category = category,</span>
<span class="fc" id="L24">                    displayName = fileName.substringBeforeLast('.')</span>
                )
            }
        }

        /**
         * Infers category from file name patterns
         * For now, we'll create simple categories based on file names
         */
        private fun inferCategoryFromFileName(fileName: String): String {
<span class="fc" id="L34">            return when {</span>
<span class="fc bfc" id="L35" title="All 4 branches covered.">                fileName.contains(&quot;sample_1&quot;) || fileName.contains(&quot;sample_2&quot;) -&gt; &quot;Smiles&quot;</span>
<span class="fc bfc" id="L36" title="All 4 branches covered.">                fileName.contains(&quot;sample_3&quot;) || fileName.contains(&quot;sample_4&quot;) -&gt; &quot;Animals&quot;</span>
<span class="fc bfc" id="L37" title="All 4 branches covered.">                fileName.contains(&quot;sample_5&quot;) || fileName.contains(&quot;sample_6&quot;) -&gt; &quot;Nature&quot;</span>
<span class="fc" id="L38">                else -&gt; &quot;General&quot;</span>
            }
        }

        /**
         * Gets all unique categories from a list of photos
         */
        fun getCategories(photos: List&lt;Photo&gt;): List&lt;String&gt; {
<span class="fc" id="L46">            return photos.map { it.category }.distinct().sorted()</span>
        }

        /**
         * Filters photos by category
         */
        fun filterByCategory(photos: List&lt;Photo&gt;, category: String): List&lt;Photo&gt; {
<span class="fc" id="L53">            return photos.filter { it.category == category }</span>
        }
    }
<span class="fc" id="L56">}</span>
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>