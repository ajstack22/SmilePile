<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/nav_graph"
    app:startDestination="@id/categoriesFragment">

    <!-- Categories Fragment - Main landing page showing photo categories -->
    <fragment
        android:id="@+id/categoriesFragment"
        android:name="com.smilepile.ui.categories.CategoriesFragment"
        android:label="@string/nav_categories"
        tools:layout="@layout/fragment_categories">

        <!-- Action to navigate to category photos -->
        <action
            android:id="@+id/action_categories_to_photos"
            app:destination="@id/photosFragment"
            app:enterAnim="@anim/slide_in_right"
            app:exitAnim="@anim/slide_out_left"
            app:popEnterAnim="@anim/slide_in_left"
            app:popExitAnim="@anim/slide_out_right">

            <argument
                android:name="categoryId"
                app:argType="long"
                app:nullable="false" />

            <argument
                android:name="categoryName"
                app:argType="string"
                app:nullable="false" />
        </action>

        <!-- Action to navigate to photo import -->
        <action
            android:id="@+id/action_categories_to_import"
            app:destination="@id/importFragment"
            app:enterAnim="@anim/slide_in_up"
            app:exitAnim="@anim/fade_out"
            app:popEnterAnim="@anim/fade_in"
            app:popExitAnim="@anim/slide_out_down" />

        <!-- Action to navigate to settings -->
        <action
            android:id="@+id/action_categories_to_settings"
            app:destination="@id/settingsFragment"
            app:enterAnim="@anim/slide_in_right"
            app:exitAnim="@anim/slide_out_left"
            app:popEnterAnim="@anim/slide_in_left"
            app:popExitAnim="@anim/slide_out_right" />

    </fragment>

    <!-- Photos Fragment - Shows photos within a specific category -->
    <fragment
        android:id="@+id/photosFragment"
        android:name="com.smilepile.ui.photos.PhotosFragment"
        android:label="{categoryName}"
        tools:layout="@layout/fragment_photos">

        <!-- Arguments for category details -->
        <argument
            android:name="categoryId"
            app:argType="long"
            app:nullable="false" />

        <argument
            android:name="categoryName"
            app:argType="string"
            app:nullable="false" />

        <!-- Action to navigate to full-screen photo viewer -->
        <action
            android:id="@+id/action_photos_to_viewer"
            app:destination="@id/photoViewerFragment"
            app:enterAnim="@anim/fade_in"
            app:exitAnim="@anim/fade_out"
            app:popEnterAnim="@anim/fade_in"
            app:popExitAnim="@anim/fade_out">

            <argument
                android:name="photoId"
                app:argType="long"
                app:nullable="false" />

            <argument
                android:name="categoryId"
                app:argType="long"
                app:nullable="false" />
        </action>

        <!-- Action to add photos to this category -->
        <action
            android:id="@+id/action_photos_to_import"
            app:destination="@id/importFragment"
            app:enterAnim="@anim/slide_in_up"
            app:exitAnim="@anim/fade_out"
            app:popEnterAnim="@anim/fade_in"
            app:popExitAnim="@anim/slide_out_down">

            <argument
                android:name="preselectedCategoryId"
                app:argType="long"
                app:nullable="true"
                android:defaultValue="-1L" />
        </action>

    </fragment>

    <!-- Photo Viewer Fragment - Full-screen photo viewing with swipe navigation -->
    <fragment
        android:id="@+id/photoViewerFragment"
        android:name="com.smilepile.ui.photoviewer.PhotoViewerFragment"
        android:label=""
        tools:layout="@layout/fragment_photo_viewer">

        <!-- Arguments for photo viewing -->
        <argument
            android:name="photoId"
            app:argType="long"
            app:nullable="false" />

        <argument
            android:name="categoryId"
            app:argType="long"
            app:nullable="false" />

        <!-- Action to share photo -->
        <action
            android:id="@+id/action_viewer_share"
            app:destination="@id/shareFragment"
            app:enterAnim="@anim/slide_in_up"
            app:exitAnim="@anim/fade_out"
            app:popEnterAnim="@anim/fade_in"
            app:popExitAnim="@anim/slide_out_down">

            <argument
                android:name="photoId"
                app:argType="long"
                app:nullable="false" />
        </action>

    </fragment>

    <!-- Import Fragment - Photo import and categorization -->
    <fragment
        android:id="@+id/importFragment"
        android:name="com.smilepile.ui.import.ImportFragment"
        android:label="@string/nav_import_photos"
        tools:layout="@layout/fragment_import">

        <!-- Optional argument for preselected category -->
        <argument
            android:name="preselectedCategoryId"
            app:argType="long"
            app:nullable="true"
            android:defaultValue="-1L" />

        <!-- Action to return to categories after import -->
        <action
            android:id="@+id/action_import_to_categories"
            app:destination="@id/categoriesFragment"
            app:popUpTo="@id/categoriesFragment"
            app:popUpToInclusive="false"
            app:enterAnim="@anim/fade_in"
            app:exitAnim="@anim/fade_out" />

    </fragment>

    <!-- Share Fragment - Photo sharing options -->
    <fragment
        android:id="@+id/shareFragment"
        android:name="com.smilepile.ui.share.ShareFragment"
        android:label="@string/nav_share_photo"
        tools:layout="@layout/fragment_share">

        <argument
            android:name="photoId"
            app:argType="long"
            app:nullable="false" />

    </fragment>

    <!-- Settings Fragment - App settings and preferences -->
    <fragment
        android:id="@+id/settingsFragment"
        android:name="com.smilepile.ui.settings.SettingsFragment"
        android:label="@string/nav_settings"
        tools:layout="@layout/fragment_settings">

        <!-- Action to navigate to about page -->
        <action
            android:id="@+id/action_settings_to_about"
            app:destination="@id/aboutFragment"
            app:enterAnim="@anim/slide_in_right"
            app:exitAnim="@anim/slide_out_left"
            app:popEnterAnim="@anim/slide_in_left"
            app:popExitAnim="@anim/slide_out_right" />

        <!-- Action to navigate to privacy settings -->
        <action
            android:id="@+id/action_settings_to_privacy"
            app:destination="@id/privacyFragment"
            app:enterAnim="@anim/slide_in_right"
            app:exitAnim="@anim/slide_out_left"
            app:popEnterAnim="@anim/slide_in_left"
            app:popExitAnim="@anim/slide_out_right" />

    </fragment>

    <!-- About Fragment - App information -->
    <fragment
        android:id="@+id/aboutFragment"
        android:name="com.smilepile.ui.about.AboutFragment"
        android:label="@string/nav_about"
        tools:layout="@layout/fragment_about" />

    <!-- Privacy Fragment - Privacy settings and controls -->
    <fragment
        android:id="@+id/privacyFragment"
        android:name="com.smilepile.ui.privacy.PrivacyFragment"
        android:label="@string/nav_privacy"
        tools:layout="@layout/fragment_privacy" />

</navigation>