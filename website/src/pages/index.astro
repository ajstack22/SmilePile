---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import DownloadButtons from '../components/DownloadButtons.astro';
---

<BaseLayout
  title="SmilePile - Family Photo Timeline Organizer"
  description="Organize your family photos into beautiful timelines. Local-only storage keeps memories private. Available on iOS and Android."
>
  <Header slot="header" />

  <!-- Query parameter redirects -->
  <script>
    if (typeof window !== 'undefined') {
      const params = new URLSearchParams(window.location.search);
      if (params.has('privacy')) {
        window.location.replace('/privacy');
      } else if (params.has('tos')) {
        window.location.replace('/terms');
      }
    }
  </script>

  <!-- Hero Section -->
  <section class="bg-gradient-to-b from-primary-50 to-white py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:grid lg:grid-cols-2 lg:gap-12 items-center">
        <!-- Text Content -->
        <div class="text-center lg:text-left">
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6">
            Organize Your Family Photos by
            <span class="text-primary-600">Timeline</span>
          </h1>
          <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto lg:mx-0">
            SmilePile helps you rediscover precious moments by organizing photos
            into beautiful timelines. Local-only storage keeps your memories private.
          </p>
          <DownloadButtons />
        </div>

        <!-- Hero Image Placeholder -->
        <div class="mt-12 lg:mt-0">
          <div class="mx-auto max-w-sm lg:max-w-none">
            <div class="aspect-[9/16] bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl shadow-2xl flex items-center justify-center">
              <svg class="w-24 h-24 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">
          Everything You Need to Cherish Your Memories
        </h2>
        <p class="text-xl text-gray-600 max-w-2xl mx-auto">
          SmilePile makes it easy to organize, browse, and enjoy your family photos.
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-12">
        <!-- Feature 1 -->
        <div class="text-center">
          <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 mb-2">Timeline View</h3>
          <p class="text-gray-600">
            Browse your photos chronologically and relive your family's journey through time.
          </p>
        </div>

        <!-- Feature 2 -->
        <div class="text-center">
          <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 mb-2">Privacy First</h3>
          <p class="text-gray-600">
            All photos stored locally on your device. No cloud sync, no tracking, complete privacy.
          </p>
        </div>

        <!-- Feature 3 -->
        <div class="text-center">
          <div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-900 mb-2">Easy Search</h3>
          <p class="text-gray-600">
            Quickly find the moments that matter with powerful search and filtering.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 bg-primary-600">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6">
        Start Organizing Your Memories Today
      </h2>
      <p class="text-xl text-primary-100 mb-8 max-w-2xl mx-auto">
        Download SmilePile for free on iOS and Android. No account required.
      </p>
      <div class="flex justify-center">
        <DownloadButtons />
      </div>
    </div>
  </section>

  <Footer slot="footer" />
</BaseLayout>
