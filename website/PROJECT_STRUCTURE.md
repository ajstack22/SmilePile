# SmilePile Landing Page - Project Structure

```
/Users/adamstack/SmilePile/website/
│
├── src/                                  # Source files
│   ├── pages/                           # Routes (file-based routing)
│   │   ├── index.astro                  # Homepage (/)
│   │   ├── privacy.astro                # Privacy Policy (/privacy)
│   │   ├── terms.astro                  # Terms of Service (/terms)
│   │   ├── support.astro                # Support & FAQs (/support)
│   │   └── 404.astro                    # 404 Error Page
│   │
│   ├── layouts/                         # Page layouts
│   │   ├── BaseLayout.astro             # Base HTML structure
│   │   └── LegalLayout.astro            # Legal pages layout
│   │
│   ├── components/                      # Reusable components
│   │   ├── Header.astro                 # Site header + navigation
│   │   ├── Footer.astro                 # Site footer
│   │   ├── DownloadButtons.astro        # App Store/Google Play buttons
│   │   └── FAQ.astro                    # Accordion FAQ component
│   │
│   └── styles/                          # Stylesheets
│       └── global.css                   # Tailwind + custom global styles
│
├── public/                               # Static assets (copied to dist/)
│   ├── robots.txt                       # SEO: Search engine rules
│   ├── favicon.ico.txt                  # Placeholder note for favicon
│   └── images/                          # Image assets (placeholders)
│       ├── screenshots/                 # App screenshots (empty - future)
│       └── badges/                      # App store badges (empty - future)
│
├── dist/                                 # Build output (generated)
│   ├── index.html                       # Homepage (12.7 KB)
│   ├── 404.html                         # 404 page (6.0 KB)
│   ├── privacy/index.html               # Privacy (12.9 KB)
│   ├── terms/index.html                 # Terms (11.9 KB)
│   ├── support/index.html               # Support (16.0 KB)
│   ├── _astro/
│   │   └── style.DXO3rObV.css          # Minified CSS bundle (15 KB)
│   ├── sitemap-index.xml                # SEO: Sitemap index
│   ├── sitemap-0.xml                    # SEO: Sitemap pages
│   └── robots.txt                       # SEO: Search engine rules
│
├── node_modules/                         # Dependencies (445 packages)
│
├── astro.config.mjs                      # Astro configuration
├── tailwind.config.js                    # Tailwind CSS configuration
├── tsconfig.json                         # TypeScript configuration
├── package.json                          # NPM dependencies & scripts
├── package-lock.json                     # Locked dependency versions
│
├── vercel.json                           # Vercel deployment config
├── netlify.toml                          # Netlify deployment config
│
├── README.md                             # Project documentation
├── DEPLOYMENT.md                         # Deployment guide
├── IMPLEMENTATION_SUMMARY.md             # Implementation details
└── PROJECT_STRUCTURE.md                  # This file
```

## Key Directories

### `/src/pages/` - Routes
File-based routing. Each `.astro` file becomes a route:
- `index.astro` → `/`
- `privacy.astro` → `/privacy`
- `terms.astro` → `/terms`
- `support.astro` → `/support`
- `404.astro` → `/404`

### `/src/layouts/` - Layouts
Shared page templates:
- `BaseLayout.astro` - Used by all pages (HTML structure, SEO, accessibility)
- `LegalLayout.astro` - Extends Base, adds legal page styling

### `/src/components/` - Components
Reusable UI elements:
- `Header.astro` - Navigation bar (desktop + mobile)
- `Footer.astro` - Site footer (links, copyright)
- `DownloadButtons.astro` - App download buttons (iOS/Android)
- `FAQ.astro` - Accordion FAQ item (native `<details>`)

### `/public/` - Static Assets
Files copied as-is to `/dist/`:
- `robots.txt` - Search engine crawler rules
- `favicon.ico.txt` - Placeholder note (real favicon needed)
- `images/` - Future: screenshots, badges, logos

### `/dist/` - Build Output
Generated by `npm run build`:
- HTML files (minified, compressed)
- CSS bundle (minified, purged)
- Sitemap (auto-generated)
- Static assets from `/public/`

## Key Files

### Configuration
- `astro.config.mjs` - Astro settings (site URL, integrations, build options)
- `tailwind.config.js` - Tailwind theme (colors, fonts, utilities)
- `tsconfig.json` - TypeScript strict mode
- `package.json` - Dependencies, scripts (dev, build, preview)

### Deployment
- `vercel.json` - Vercel redirects + security headers
- `netlify.toml` - Netlify redirects + security headers

### Documentation
- `README.md` - Quick start, project overview, maintenance
- `DEPLOYMENT.md` - Deployment instructions, troubleshooting
- `IMPLEMENTATION_SUMMARY.md` - Complete implementation details
- `PROJECT_STRUCTURE.md` - This file (architecture overview)

## Technology Stack

### Core
- **Astro 5.14.1** - Static Site Generator
- **Tailwind CSS 3.4** - Utility-first CSS framework
- **TypeScript** - Type safety (strict mode)
- **Vite** - Build tool (bundled with Astro)

### Integrations
- `@astrojs/sitemap` - Auto-generate sitemap.xml
- `@astrojs/tailwind` - Tailwind integration
- `astro-compress` - Minify HTML/CSS/SVG

### DevDependencies
None currently (all dependencies are production)

## Build Process

```bash
# Development
npm run dev         # Start dev server (http://localhost:4321)

# Production
npm run build       # Build static files to /dist/
npm run preview     # Preview production build locally

# Deployment
vercel              # Deploy to Vercel
netlify deploy      # Deploy to Netlify
```

**Build Flow**:
1. Astro compiles `.astro` files to HTML
2. Tailwind purges unused CSS
3. Vite bundles and minifies assets
4. Sitemap plugin generates sitemap.xml
5. Compress plugin minifies HTML/CSS/SVG
6. Output written to `/dist/`

## Routing Architecture

### Direct Routes
- `/` - Homepage
- `/privacy` - Privacy Policy
- `/terms` - Terms of Service
- `/support` - Support & FAQs
- `/404` - 404 Error Page

### Query Parameter Redirects
- `/?privacy` → `/privacy` (301 redirect)
- `/?tos` → `/terms` (301 redirect)

**Implementation**:
1. Server-side: `vercel.json` / `netlify.toml` (preferred)
2. Client-side: JavaScript in `index.astro` (fallback)

## SEO Architecture

### Meta Tags
Each page has:
- Unique `<title>`
- Unique meta description
- Open Graph tags (Facebook/LinkedIn)
- Twitter Card tags
- Canonical URL

### Sitemap
- Auto-generated by `@astrojs/sitemap`
- Includes all pages except 404
- Change frequency: monthly
- Priority: 0.7 (all pages equal)

### Robots.txt
```
User-agent: *
Allow: /
Sitemap: https://smilepile.app/sitemap.xml
```

## Security Architecture

### Headers (configured in deployment)
- `X-Frame-Options: DENY`
- `X-Content-Type-Options: nosniff`
- `Referrer-Policy: strict-origin-when-cross-origin`
- `Permissions-Policy: camera=(), microphone=(), geolocation=()`

### HTTPS
- Required (enforced by hosting provider)
- Automatic SSL via Let's Encrypt (Vercel/Netlify)

## Accessibility Features

### Semantic HTML
- `<header>`, `<main>`, `<footer>`, `<nav>` landmarks
- Proper heading hierarchy (H1 → H2 → H3)
- Native `<details>` for accordions

### Keyboard Navigation
- All interactive elements tabbable
- Visible focus indicators (ring on `:focus-visible`)
- Skip navigation link (hidden until focused)
- Mobile menu keyboard accessible

### Screen Readers
- ARIA labels on icon-only buttons
- `aria-expanded` on toggles
- `aria-hidden="true"` on decorative icons
- Descriptive link text (not "click here")

### Color Contrast
- Body text: 4.5:1 minimum (gray-900 on white)
- Large text: 3:1 minimum (primary-600)
- All tested with WebAIM Contrast Checker

## Performance Optimization

### Build Optimizations
- HTML minification (astro-compress)
- CSS minification (Vite)
- CSS purging (Tailwind removes unused classes)
- Inline critical CSS (Astro auto-inlines)
- Asset hashing (cache busting)

### Runtime Optimizations
- No JavaScript bundles (static site)
- Minimal inline scripts (query param redirects only)
- System fonts (no web font loading)
- Future: Image optimization (WebP + lazy loading)

### Performance Budget
- Per-page HTML: <20 KB
- CSS bundle: <20 KB
- Total page weight: <100 KB
- LCP: <2.5s
- FID: <100ms
- CLS: <0.1

## Deployment Architecture

### Supported Platforms
1. **Vercel** (recommended)
   - Auto-deploy from Git
   - Edge CDN (global)
   - Serverless functions available
   - Custom domains
   - SSL automatic

2. **Netlify**
   - Auto-deploy from Git
   - Global CDN
   - Serverless functions available
   - Custom domains
   - SSL automatic

3. **Cloudflare Pages**
   - Auto-deploy from Git
   - Global CDN (largest network)
   - Workers available
   - Custom domains
   - SSL automatic

### Build Configuration
- **Build Command**: `npm run build`
- **Output Directory**: `dist`
- **Node Version**: 18+
- **Install Command**: `npm install`

### Environment Variables
None required (all static configuration)

## Future Enhancements

### Content
- [ ] Add real app screenshots
- [ ] Create actual favicon files
- [ ] Generate Open Graph images
- [ ] Update app store links with real IDs
- [ ] Add blog section
- [ ] Add newsletter signup

### Features
- [ ] FAQ search functionality
- [ ] Multi-language support (i18n)
- [ ] Screenshot carousel on homepage
- [ ] Contact form (instead of mailto)
- [ ] Live chat widget

### Technical
- [ ] Structured data (FAQ schema)
- [ ] CMS integration (Sanity, Contentful)
- [ ] CI/CD pipeline (GitHub Actions)
- [ ] Automated Lighthouse testing
- [ ] Visual regression testing (Percy)
- [ ] E2E tests (Playwright)

### Analytics
- [ ] Privacy-friendly analytics (Plausible, Fathom)
- [ ] Error tracking (Sentry)
- [ ] Uptime monitoring (UptimeRobot)

---

**Last Updated**: October 2, 2025  
**Project**: SmilePile Landing Page  
**Location**: `/Users/adamstack/SmilePile/website/`  
**Status**: Implementation Complete (Phase 5)
