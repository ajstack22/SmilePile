# ============================================================================
# SmilePile Quality/QA Environment Configuration
# ============================================================================
# Configuration for quality assurance and testing
# This file should be committed to version control

# Include base configuration
# Source base.env when loading this environment

# Environment Identification
ENVIRONMENT_NAME="quality"
ENVIRONMENT_TYPE="qa"
ENVIRONMENT_COLOR="#FFA500"

# API Configuration
API_BASE_URL="https://api-qa.smilepile.app/api"
API_TIMEOUT="30"
API_RETRY_COUNT="2"
API_USE_MOCK="false"

# Database Configuration
DATABASE_HOST="qa-db.smilepile.internal"
DATABASE_PORT="5432"
DATABASE_NAME="smilepile_qa"
DATABASE_POOL_SIZE="10"

# Build Configuration
BUILD_TYPE="release"
ANDROID_BUILD_VARIANT="qualityRelease"
IOS_BUILD_CONFIGURATION="Release-QA"

# Debug Configuration
DEBUG_MODE="true"
ENABLE_DEBUG_MENU="true"
ENABLE_PERFORMANCE_MONITORING="true"
ENABLE_NETWORK_LOGGING="true"
LOG_LEVEL="DEBUG"

# Testing Configuration
RUN_UNIT_TESTS="true"
RUN_INTEGRATION_TESTS="true"
RUN_UI_TESTS="true"
RUN_SMOKE_TESTS="true"
RUN_REGRESSION_TESTS="false"
MIN_TEST_COVERAGE="70"
TEST_PARALLEL_EXECUTION="true"

# Security Configuration
ENABLE_CERTIFICATE_PINNING="true"
ENABLE_ROOT_DETECTION="true"
ENABLE_TAMPER_DETECTION="false"
ALLOW_HTTP_TRAFFIC="false"
SSL_PINNING_HOSTS="api-qa.smilepile.app"

# QA Features
ENABLE_TEST_ACCOUNTS="true"
ENABLE_QA_MENU="true"
ENABLE_BUG_REPORTER="true"
ENABLE_SCREENSHOT_TESTS="true"
ENABLE_MONKEY_TESTING="false"

# Performance Monitoring
ENABLE_APM="true"
APM_SAMPLE_RATE="0.5"
ENABLE_MEMORY_PROFILING="true"
ENABLE_CPU_PROFILING="false"

# Error Tracking
ERROR_TRACKING_ENABLED="true"
ERROR_TRACKING_ENVIRONMENT="qa"
SEND_PII_DATA="false"
ERROR_SAMPLE_RATE="1.0"

# Storage Configuration
STORAGE_BASE_URL="https://storage-qa.smilepile.app"
CDN_BASE_URL="https://cdn-qa.smilepile.app"
CACHE_TTL_SECONDS="3600"

# Notification Configuration
PUSH_NOTIFICATION_SERVER="https://push-qa.smilepile.app"
ENABLE_PUSH_NOTIFICATIONS="true"
NOTIFICATION_TEST_MODE="true"

# QA Signing (Android)
ANDROID_KEYSTORE_PATH="/secure/keystores/qa.keystore"
ANDROID_KEY_ALIAS="qa-key"
# Passwords should be in secrets file

# QA Signing (iOS)
IOS_CODE_SIGN_IDENTITY="iPhone Distribution: SmilePile QA"
IOS_PROVISIONING_PROFILE="SmilePile QA"
IOS_EXPORT_METHOD="ad-hoc"

# Feature Flags (QA Specific)
FEATURE_A_B_TESTING="true"
FEATURE_CANARY_RELEASES="false"
FEATURE_REMOTE_CONFIG="true"
FEATURE_FEATURE_TOGGLES="true"

# Analytics Configuration
ANALYTICS_ENABLED="true"
ANALYTICS_DEBUG_MODE="true"
ANALYTICS_BATCH_SIZE="10"
ANALYTICS_FLUSH_INTERVAL="30"

# Test Data Configuration
TEST_DATA_ENABLED="true"
AUTO_GENERATE_TEST_DATA="true"
TEST_USER_PREFIX="qa_user_"
RESET_DATA_ON_DEPLOY="false"

# QA Tools Integration
BROWSERSTACK_ENABLED="false"
SAUCE_LABS_ENABLED="false"
APPIUM_SERVER_URL="http://localhost:4723"

# Deployment Configuration
DEPLOY_STRATEGY="rolling"
HEALTH_CHECK_ENABLED="true"
HEALTH_CHECK_PATH="/health"
WARMUP_REQUESTS="10"

# Monitoring and Alerts
MONITORING_ENABLED="true"
ALERT_THRESHOLD_ERROR_RATE="0.05"
ALERT_THRESHOLD_RESPONSE_TIME="2000"
ALERT_CHANNELS="slack,email"

# Resource Limits (QA)
MAX_CONCURRENT_USERS="100"
RATE_LIMIT_ENABLED="true"
RATE_LIMIT_REQUESTS_PER_MINUTE="60"