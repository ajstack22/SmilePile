# SonarCloud Project Configuration
# This file is required for SonarCloud analysis

# Organization and project keys (replace with your actual values)
sonar.projectKey=ajstack22_SmilePile
sonar.organization=ajstack22
sonar.projectName=SmilePile Android
sonar.projectVersion=1.0

# Source code configuration
sonar.sources=android/app/src/main/java
sonar.tests=android/app/src/test,android/app/src/androidTest

# Language configuration
sonar.language=kotlin
sonar.java.source=17
sonar.java.target=17
sonar.kotlin.source=1.9
sonar.kotlin.target=17

# Encoding
sonar.sourceEncoding=UTF-8

# Android specific
sonar.android.lint.report=android/app/build/reports/lint-results-debug.xml

# Coverage configuration
sonar.coverage.jacoco.xmlReportPaths=android/app/build/reports/jacoco/jacocoDebugTestReport/jacocoDebugTestReport.xml

# Detekt reports (if using Detekt for static analysis)
sonar.kotlin.detekt.reportPaths=android/app/build/reports/detekt/detekt.xml

# Test execution reports
sonar.junit.reportPaths=android/app/build/test-results/testDebugUnitTest

# Binaries (for better analysis accuracy)
sonar.java.binaries=android/app/build/intermediates/javac/debug/classes,android/app/build/tmp/kotlin-classes/debug
sonar.java.libraries=android/app/build/intermediates/compile_and_runtime_not_namespaced_r_class_jar/debug

# Exclusions - files/folders not to analyze
sonar.exclusions=\
    **/*Test.kt,\
    **/*Tests.kt,\
    **/*Test.java,\
    **/test/**,\
    **/androidTest/**,\
    **/BuildConfig.*,\
    **/R.class,\
    **/R$*.class,\
    **/*Binding.java,\
    **/*_MembersInjector.java,\
    **/*_Factory.java,\
    **/*_Provide*Factory.java,\
    **/Manifest*.*,\
    **/*Dagger*.java,\
    **/*Hilt*.java,\
    **/*Module.kt,\
    **/*Module.java,\
    **/di/**,\
    **/*Navigation*.kt,\
    **/*Args*.kt,\
    **/*Directions*.kt

# Test exclusions
sonar.test.exclusions=**/*

# Coverage exclusions (same as analysis exclusions plus some additional)
sonar.coverage.exclusions=\
    **/*Test.kt,\
    **/*Tests.kt,\
    **/*Test.java,\
    **/test/**,\
    **/androidTest/**,\
    **/BuildConfig.*,\
    **/R.class,\
    **/R$*.class,\
    **/*Binding.java,\
    **/*_MembersInjector.java,\
    **/*_Factory.java,\
    **/Manifest*.*,\
    **/*Dagger*.java,\
    **/*Hilt*.java,\
    **/*Module.kt,\
    **/di/**,\
    **/*Constants.kt,\
    **/*Extensions.kt,\
    **/*Utils.kt,\
    **/*Activity.kt,\
    **/*Fragment.kt,\
    **/*Dialog.kt,\
    **/*Adapter.kt,\
    **/*ViewHolder.kt

# Security hotspots
sonar.security.hotspots.maxIssues=0

# Quality gate
sonar.qualitygate.wait=true

# Branch configuration (for PR analysis)
sonar.pullrequest.provider=GitHub
sonar.pullrequest.github.repository=smilepile/android

# Issue assignment
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignore issues in generated code
sonar.issue.ignore.multicriteria.e1.ruleKey=kotlin:S6518
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*Dao_Impl.kt

sonar.issue.ignore.multicriteria.e2.ruleKey=kotlin:S6517
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*Database_Impl.kt

sonar.issue.ignore.multicriteria.e3.ruleKey=*
sonar.issue.ignore.multicriteria.e3.resourceKey=**/databinding/**

# CPD (Copy-Paste Detection) configuration
sonar.cpd.exclusions=**/*Test.kt,**/*Tests.kt,**/test/**

# Verbose logging (disable in production)
sonar.verbose=false

# Links
sonar.links.homepage=https://github.com/smilepile/android
sonar.links.ci=https://github.com/smilepile/android/actions
sonar.links.scm=https://github.com/smilepile/android
sonar.links.issue=https://github.com/smilepile/android/issues